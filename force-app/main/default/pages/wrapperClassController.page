<apex:page controller="wrapperClassController">
      <script type="text/javascript">
        function selectAllCheckboxes(obj,receivedInputID){
            var inputCheckBox = document.getElementsByTagName("input");
            for(var i=0; i<inputCheckBox.length; i++){
                if(inputCheckBox[i].id.indexOf(receivedInputID)!=-1){
                    inputCheckBox[i].checked = obj.checked;
                }
            }
        }
    </script>
    <apex:form >
      <apex:pageBlock >
          <apex:pageBlockButtons >
          <apex:commandButton value="Process Selected" action="{!processSelected}" reRender="table2,PB2"/>
          </apex:pageBlockButtons>
          <apex:pageBlockSection title="All Contacts" collapsible="false" columns="1">
          <apex:pageBlockTable value="{!Contacts}" var="c" id="table">
              <apex:column >
                   <apex:facet name="header">
                            <apex:inputCheckbox onclick="selectAllCheckboxes(this,'inputid')"/>
                        </apex:facet>
              <apex:inputCheckbox value="{!c.isSelected}" id="inputid"/>
              
              </apex:column>
              <apex:column value="{!c.con.Name}"/>
              <apex:column value="{!c.con.Email}"/>
              <apex:column value="{!c.con.Phone}"/>
          
          </apex:pageBlockTable>
         </apex:pageBlockSection>
      </apex:pageBlock>  
        <apex:pageBlock id="PB2">
            <apex:pageBlockTable value="{!selectedContacts}" var="d" id="table2">
            <apex:column value="{!d.Name}" headerValue="Contact Name"/>
            <apex:column value="{!d.Email}" headerValue="Email"/>
             <apex:column value="{!d.Phone}" headerClass="Phone"/>
            </apex:pageBlockTable>
        
        </apex:pageBlock>
    </apex:form>
</apex:page>